{
  "Base/CustUser": {
    "layout":"form", 
    "title":"Customer User",
    "table":"{schema}.cust_user",
    "actions":"BIUD", 
    "caption": [ "", "Customer User", "Customer Users" ],
    "roles": {
      "main": { "SYSADMIN":"*" },
      "client": {"CSYSADMIN":"*"}
    },
    "popup":[850,650],
    "fields":[
      {"name":"sys_user_id","type":"bigint","key":1,"datalock":{"cust_id":"sys_user_id"},"control":"hidden"},
      {"name":"sys_user_sts","type":"varchar","length":32,"actions":"BIU","control":"dropdown_S",
        "lov": { "code_sys_prefix": "ahc", "schema": "jsharmony"}, "validate": ["Required"], "default": "ACTIVE",
         "caption":"Status","captionstyle":"width:120px;text-align:right;"},
      {"name":"sys_user_stsdt","type":"date","actions":"B","control":"textbox_mmddyy",
        "caption":"DT","captionstyle":"width:14px;text-align:right;"},
      {"name":"sys_user_jobtitle","type":"varchar","length":35,"actions":"BIU",
        "control":"textbox_2","caption":"Title"},
      {"name":"sys_user_fname","type":"varchar","length":35,"actions":"BIU","nl":1,
        "control":"textbox_M","validate":["Required"],"caption":"First Name"},
      {"name":"sys_user_mname","type":"varchar","length":35,"actions":"BIU",
        "control":"textbox_2","caption":"Middle Name"},
      {"name":"sys_user_lname","type":"varchar","length":35,"actions":"BIU","nl":1,
        "control":"textbox_VL","validate":["Required"],"caption":"Last Name"},
      {"name":"sys_user_bphone","type":"varchar","length":30,"actions":"BIU","nl":1,
        "control":"textbox_phone","controlstyle":"width:144px;",
        "caption":"Phone"},
      {"name":"sys_user_cphone","type":"varchar","length":30,"actions":"BIU",
        "control":"textbox_phone",
        "caption":"Cell Phone","captionstyle":"width:210px;text-align:right;"},
      {"name":"sys_user_email","type":"varchar","length":255,"actions":"BIU","nl":1,
        "control":"textbox_email","validate":["IsEmail","Required"],
        "caption":"E-Mail Address"},
      {"name":"sys_user_pw1","type":"varchar","length":255,"actions":"BIU","nl":1,
          "control":"password", 
          "caption":"New Password"},
      {"name":"sys_user_pw2","type":"varchar","length":255,"actions":"BIU","nl":1,
          "control":"password", 
          "caption":"Repeat Password"},
      {"control":"html","value":"<div class=\"clear\" style=\"padding-bottom:15px;\"></div>"},
      {"name":"CustUser_Role",
          "control":"subform","controlstyle":"width:345px;float:left;",
          "target":"CustUser_Role",
          "bindings":{"sys_user_id":"sys_user_id"},
          "caption":"Customer User Roles",
          "actions": "BIUD"},
      {"control":"html","value":"<div class=\"clear\"></div>"},
      {"name":"sys_user_etstmp","type":"datetime","length":7,"actions":"B","nl":1,
          "control":"textbox_tstmp",
          "caption":"Entered"},
      {"name":"sys_user_euser_fmt","type":"varchar","length":20,"actions":"B",
          "sqlselect":"({schema}.my_db_user_fmt(sys_user_euser))",
          "control":"textbox","controlstyle":"width:158px;","caption":""},
      {"name":"sys_user_mtstmp","type":"datetime","length":7,"actions":"B","nl":1,
          "control":"textbox_tstmp",
          "caption":"Last Updated"},
      {"name":"sys_user_muser_fmt","type":"varchar","length":20,"actions":"B",
          "sqlselect":"({schema}.my_db_user_fmt(sys_user_muser))",
          "control":"textbox","controlstyle":"width:158px;","caption":""},
      {"name":"sys_user_lastlogin_tstmp","type":"datetime","length":"7","actions":"B","nl":1,
          "control":"textbox_tstmp",
          "caption":"Last Login (UTC)"},
      {"name":"sys_user_lastlogin_ip","type":"varchar","length":255,"actions":"B",
          "control":"label_S",
          "caption":"Last Login IP",
          "eol":1},
      {"name":"cust_id","type":"bigint","datalock":{"cust_id":"cust_id"},"foreignkey":1,"actions":"BI",
          "control": "hidden","caption": ""}
  ],
  "dberrors":[
    ["fk_cust_user_role_cust_user","Cannot delete a user with selected role(s)"],
    ["unq_cust_user_sys_user_email","Email address is not unique "],
    ["cust_user_sys_user_email_unique","Email address is not unique "]
  ]
  },    
  "CustUser": {
    "inherits":"Base/CustUser"  
  }
}